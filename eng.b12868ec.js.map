{"mappings":"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","sources":["src/js/main.js"],"sourcesContent":["import 'animate.css';\n\nwindow.addEventListener('load', windowLoad);\n\nconst audio = document.getElementById('audio');\nconst playBtn = document.querySelector('.audio-btn');\nconst stopBtn = document.querySelector('.audio-btn-off');\nplayBtn.addEventListener('click', e => {\n  audio.play();\n  e.target.classList.add('visually-hidden');\n  stopBtn.classList.remove('visually-hidden');\n});\n\nstopBtn.addEventListener('click', e => {\n  audio.pause();\n  audio.currentTime = 0;\n  playBtn.classList.remove('visually-hidden');\n  stopBtn.classList.add('visually-hidden');\n});\n\nfunction windowLoad() {\n  document.documentElement.classList.add('loaded');\n\n  const page = document.querySelector('.page');\n  const parallaxItems = document.querySelectorAll('[class*=\"__inset\"]');\n  const speed = 0.05;\n\n  let posX = 0;\n  let cXprocent = 0;\n\n  page.addEventListener('mousemove', parallaxAnimation);\n\n  function parallaxAnimation(e) {\n    cursorHandle(e);\n    const parallaxWidth = window.innerWidth;\n    const cX = e.pageX - parallaxWidth / 2;\n    cXprocent = (cX / parallaxWidth) * 100;\n  }\n\n  function setParallaxAnimationStyle(e) {\n    const distX = cXprocent - posX;\n    posX = posX + distX * speed;\n\n    parallaxItems.forEach(parallaxItem => {\n      const value = parallaxItem.dataset.prxValue\n        ? +parallaxItem.dataset.prxValue\n        : 1;\n\n      parallaxItem.style.cssText = `transform: translateX(${posX / value}%)`;\n    });\n    requestAnimationFrame(setParallaxAnimationStyle);\n  }\n\n  setParallaxAnimationStyle();\n\n  // Scroll\n  const moon = document.querySelector('.moon');\n  const buildings = document.querySelectorAll('.building');\n  const tree = document.querySelector('.tree');\n  const stairs = document.querySelector('.stairs');\n  const train = document.querySelector('.train');\n  const santaItems = document.querySelectorAll('.santa>*');\n  const mainArrow = document.querySelector('.arrow-container--main');\n\n  window.addEventListener('scroll', createPosition);\n  createPosition();\n\n  function createPosition() {\n    const audioBells = document.getElementById('audio-bells');\n\n    function playBells(e) {\n      audioBells.play();\n      // console.log('bells');\n    }\n\n    const contentElement = document.querySelector('.content__container');\n    const windowHeight = window.innerHeight;\n\n    const finalPos =\n      (scrollY / (contentElement.offsetTop - windowHeight)) * 100;\n\n    if (finalPos >= 100) {\n      christmasAnimation(100);\n      contentElement.addEventListener('mouseover', playBells);\n      contentElement.addEventListener('touchstart', playBells);\n    } else {\n      christmasAnimation(finalPos);\n      contentElement.removeEventListener('mouseover', playBells);\n      contentElement.removeEventListener('touchstart', playBells);\n    }\n  }\n\n  function christmasAnimation(finalPos) {\n    const arrowAnim = {\n      translate: (70 / 100) * finalPos,\n      scale: 1 + (2 / 100) * finalPos,\n    };\n\n    mainArrow.style.cssText = `transform: translate(0, ${arrowAnim.translate}%) \n    scale(${arrowAnim.scale}) rotate(180deg)`;\n\n    const moonAnim = {\n      translate: (50 / 100) * finalPos,\n      scale: 1 + (2 / 100) * finalPos,\n    };\n    moon.style.cssText = `transform: translate(0, ${moonAnim.translate}%) \n    scale(${moonAnim.scale})`;\n\n    const stairsAnim = {\n      translate: (70 / 100) * finalPos,\n      scale: 1 + (2 / 100) * finalPos,\n    };\n    stairs.style.cssText = `transform: translate(0, ${stairsAnim.translate}%) \n    scale(${stairsAnim.scale})`;\n\n    const treeAnim = {\n      translate: (70 / 100) * finalPos,\n      scale: 1 + (1.5 / 100) * finalPos,\n    };\n    tree.style.cssText = `transform: translate(0, ${treeAnim.translate}%) \n    scale(${treeAnim.scale})`;\n\n    buildings.forEach((building, index) => {\n      const buildingAnim = {\n        translate: ((30 * (buildings.length - index)) / 100) * finalPos,\n        scale: 1 + (2 / 100) * finalPos,\n      };\n\n      building.style.cssText = `transform: translate(0,${buildingAnim.translate}%) \n    scale(${buildingAnim.scale})`;\n    });\n\n    const trainAnim = {\n      translate: 1 * finalPos,\n    };\n    train.style.cssText = `transform: translate(-${trainAnim.translate}%, ${trainAnim.translate}%)`;\n\n    santaItems.forEach((santaItem, index) => {\n      const santaAnim = {\n        left: ((100 + 10 * index) / 100) * finalPos,\n      };\n      santaItem.style.left = `${santaAnim.left}%`;\n    });\n  }\n}\n\n// CURSOR\n\nfunction cursorHandle(e) {\n  [0.7, 0.9, 0.8, 0.5, 0.25, 0.6, 0.4, 0.3, 0.2].forEach(function (i) {\n    const j = (1 - i) * 20;\n    const elem = document.createElement('div');\n    const precision = 30;\n    const randomnum =\n      Math.floor(\n        Math.random() * (10 * precision - 1 * precision) + 1 * precision\n      ) /\n      (1 * precision);\n\n    const rOpacity = randomnum / 20;\n    const rSize = randomnum / 120;\n\n    elem.style.position = 'fixed';\n    elem.classList.add('star-five');\n    elem.style.zIndex = 10000000;\n    elem.style.transform = `rotate(35deg) scale(${rSize})`;\n\n    elem.style.top =\n      e.pageY -\n      window.scrollY +\n      Math.round(Math.random() * j - j / 2) -\n      100 +\n      'px';\n\n    elem.style.left =\n      e.pageX + Math.round(Math.random() * j - j / 2) - 100 + 'px';\n\n    elem.style.opacity = rOpacity;\n    elem.style.pointerEvents = 'none';\n\n    document.body.appendChild(elem);\n\n    let timerID = window.setTimeout(function () {\n      document.body.removeChild(elem);\n      clearTimeout(timerID);\n    }, Math.round(Math.random() * i * 1500));\n  });\n}\n\n// CONTENT TEXT\n\nconst elts = {\n  text1: document.getElementById('text1'),\n  text2: document.getElementById('text2'),\n};\n\nconst texts = [\n  'Merry Christmas!',\n  ' Веселого Різдва! ',\n  ' !عيد ميلاد مجيد ',\n  '圣诞快乐! ',\n  ' Čestit Božić! ',\n  ' Veselé Vánoce! ',\n  'Glædelig Jul!',\n  ' Prettige Kerstdagen! ',\n  'Häid jõule!',\n  'Hauskaa joulua!',\n  'Joyeux Noël!',\n  'Frohe Weihnachten!',\n  'Χαρούμενα Χριστούγεννα!',\n  'Buon Natale!',\n  'メリークリスマス!',\n  '메리 크리스마스! ',\n  'Priecīgus Ziemassvētkus!',\n  'Linksmų šv. Kalėdų!',\n  'Среќен Божиќ!',\n  'God jul! ',\n  'Wesołych Świąt!',\n  'Feliz Natal!',\n  'Crăciun fericit!',\n  'Srećan Božić!',\n  'Kirismas Wanaagsan!',\n  'Feliz Navidad!',\n  'Heri ya krismas!',\n  'З Калядамі!',\n  'Счастливого Рождества!',\n];\n\nconst morphTime = 0.7;\nconst cooldownTime = 0.5;\n\nlet textIndex = texts.length - 1;\nlet time = new Date();\nlet morph = 0;\nlet cooldown = cooldownTime;\n\nelts.text1.textContent = texts[textIndex % texts.length];\nelts.text2.textContent = texts[(textIndex + 1) % texts.length];\n\nfunction doMorph() {\n  morph -= cooldown;\n  cooldown = 0;\n\n  let fraction = morph / morphTime;\n\n  if (fraction > 1) {\n    cooldown = cooldownTime;\n    fraction = 1;\n  }\n\n  setMorph(fraction);\n}\n\nfunction setMorph(fraction) {\n  elts.text2.style.filter = `blur(${Math.min(8 / fraction - 8, 20)}px)`;\n  elts.text2.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;\n\n  fraction = 1 - fraction;\n  elts.text1.style.filter = `blur(${Math.min(8 / fraction - 8, 20)}px)`;\n  elts.text1.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;\n\n  elts.text1.textContent = texts[textIndex % texts.length];\n  elts.text2.textContent = texts[(textIndex + 1) % texts.length];\n}\n\nfunction doCooldown() {\n  morph = 0;\n\n  elts.text2.style.opacity = '100%';\n  elts.text1.style.opacity = '0%';\n}\n\nfunction animateText() {\n  requestAnimationFrame(animateText);\n\n  let newTime = new Date();\n  let shouldIncrementIndex = cooldown > 0;\n  let dt = (newTime - time) / 2000;\n  time = newTime;\n\n  cooldown -= dt;\n\n  if (cooldown <= 0) {\n    if (shouldIncrementIndex) {\n      textIndex++;\n    }\n\n    doMorph();\n  } else {\n    doCooldown();\n  }\n}\nanimateText();\n\n// CONTENT LETTER\n\ndocument.querySelector('.envelope').addEventListener('click', function () {\n  if (document.querySelector('.letter').classList.contains('letter--open')) {\n    document.querySelector('.letter').classList.remove('letter--open');\n    document.querySelector('.letter').classList.add('letter--close');\n    setTimeout(function () {\n      document.querySelector('.letter').classList.remove('letter--close');\n    }, 600);\n  } else {\n    document.querySelector('.letter').classList.remove('letter--close');\n    document.querySelector('.letter').classList.add('letter--open');\n  }\n});\n\ndocument.querySelector('.paper-close').addEventListener('click', function () {\n  document.querySelector('.letter').classList.remove('letter--open');\n  document.querySelector('.letter').classList.add('letter--close');\n\n  setTimeout(function () {\n    document.querySelector('.letter').classList.remove('letter--close');\n  }, 600);\n});\n\n// const openMapModalBtn = document.querySelector('.open-modal');\n// const closeMapModalBtn = document.querySelector('.modal__close-btn');\n// const mapModal = document.querySelector('.modal-overlay');\n// const mapModalWindow = document.querySelector('.modal');\n\n// openMapModalBtn.addEventListener('click', function () {\n//   mapModal.classList.remove('is-hidden');\n// });\n\n// closeMapModalBtn.addEventListener('click', function () {\n//   mapModal.classList.toggle('is-hidden');\n// });\n\n// mapModal.addEventListener('click', e => {\n//   const closeMapModal = e.composedPath().includes(mapModalWindow);\n//   if (!closeMapModal) {\n//     mapModal.classList.add('is-hidden');\n//   }\n// });\n\n// document.addEventListener('keydown', function (e) {\n//   if (e.key === 'Escape') {\n//     mapModal.classList.add('is-hidden');\n//   }\n// });\n"],"names":["window","addEventListener","document","documentElement","classList","add","page","querySelector","parallaxItems","querySelectorAll","posX","cXprocent","e","forEach","i","j","elem","createElement","precision","randomnum","Math","floor","random","rOpacity","rSize","style","position","zIndex","transform","top","pageY","scrollY","round","left","pageX","opacity","pointerEvents","body","appendChild","timerID","setTimeout","removeChild","clearTimeout","$d706c914d748cb55$var$cursorHandle","parallaxWidth","innerWidth","cX","setParallaxAnimationStyle","parallaxItem","value","dataset","prxValue","cssText","requestAnimationFrame","moon","buildings","tree","stairs","train","santaItems","mainArrow","createPosition","audioBells","getElementById","playBells","play","contentElement","windowHeight","innerHeight","finalPos","offsetTop","christmasAnimation","removeEventListener","arrowAnim","moonAnim","stairsAnim","treeAnim","building","index","buildingAnim","length","trainAnim","santaItem","santaAnim","$d706c914d748cb55$var$audio","$d706c914d748cb55$var$playBtn","$d706c914d748cb55$var$stopBtn","target","remove","pause","currentTime","$d706c914d748cb55$var$elts","text1","text2","$d706c914d748cb55$var$texts","$d706c914d748cb55$var$textIndex","$d706c914d748cb55$var$time","Date","$d706c914d748cb55$var$morph","$d706c914d748cb55$var$cooldown","$d706c914d748cb55$var$doMorph","fraction","filter","min","pow","textContent","$d706c914d748cb55$var$setMorph","$d706c914d748cb55$var$animateText","newTime","shouldIncrementIndex","dt","contains"],"version":3,"file":"eng.b12868ec.js.map"}